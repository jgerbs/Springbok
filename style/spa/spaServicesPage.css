/* =========================================================
   Services "Stack" — same slider look, but static list
   ========================================================= */

.services-stack {
    display: grid;
    gap: clamp(18px, 2.2vw, 26px);
}

/* reuse your existing .services-v2-shell visuals,
   but allow each item to size naturally */
.services-v2-shell--static {
    height: auto;
    min-height: clamp(360px, 44vw, 520px);
    position: relative;
}

/* background image layer */
.services-item-static {
    position: absolute;
    inset: 0;
    background-image: var(--bg);
    background-size: cover;
    background-position: center;
    transform: translate3d(0, 0, 0);
    backface-visibility: hidden;
    z-index: 1;
}

/* overlay readability */
.services-v2-shell--static::after {
    content: "";
    position: absolute;
    inset: 0;
    pointer-events: none;
    z-index: 2;
    background:
        linear-gradient(90deg,
            rgba(0, 0, 0, .70) 0%,
            rgba(0, 0, 0, .44) 42%,
            rgba(0, 0, 0, .16) 72%,
            rgba(0, 0, 0, .06) 100%),
        linear-gradient(180deg,
            rgba(0, 0, 0, .06) 0%,
            rgba(0, 0, 0, .40) 100%);
}

/* text layer */
.services-v2-shell--static .services-content {
    position: absolute;
    z-index: 3;
    opacity: 1 !important;
    pointer-events: auto !important;
}

/* kill any slider "active-only" animations */
.services-v2-shell--static .services-title,
.services-v2-shell--static .services-desc,
.services-v2-shell--static .services-actions {
    opacity: 1 !important;
    transform: none !important;
    animation: none !important;
}

/* extra guardrail if slider css targets children */
.services-v2-shell--static .services-content * {
    opacity: 1 !important;
    transform: none !important;
    animation: none !important;
}

/* position support — bl / br */
.services-v2-shell--static .services-content[data-pos="bl"] {
    bottom: clamp(22px, 3.2vw, 36px);
    left: clamp(18px, 3.2vw, 40px);
    right: auto;
    text-align: left;
    width: min(44vw, 560px);
    max-width: 560px;
}

.services-v2-shell--static .services-content[data-pos="br"] {
    bottom: clamp(22px, 3.2vw, 36px);
    right: clamp(18px, 3.2vw, 40px);
    left: auto;
    text-align: right;
    width: min(44vw, 560px);
    max-width: 560px;
}

/* align buttons on right variant */
.services-v2-shell--static .services-content[data-pos="br"] .services-actions {
    justify-content: flex-end;
}

.services-v2-shell--static .services-content[data-pos="br"] .services-desc {
    margin-left: auto;
}

/* CTA strip (reuse clinic look on spa pages) */
html[data-brand="spa"] .clinic-cta {
    padding: clamp(70px, 6vw, 110px) 0;
}

html[data-brand="spa"] .clinic-cta-inner {
    display: flex;
    align-items: center;
    justify-content: space-between;
    gap: 22px;
    padding: clamp(20px, 3vw, 28px);
    border-radius: var(--radius-xl);
    border: 1px solid rgba(255, 255, 255, .12);
    background: rgba(255, 255, 255, .04);
    box-shadow: var(--shadow-soft);
}

html[data-brand="spa"] .clinic-cta h2 {
    margin: 0 0 8px;
}

html[data-brand="spa"] .clinic-cta p {
    margin: 0;
    color: rgba(0, 0, 0, 0.72);
    max-width: 60ch;
}

html[data-brand="spa"] .clinic-cta-actions {
    display: flex;
    gap: 12px;
    flex-wrap: wrap;
}

/* =========================================================
   SPA SERVICES PAGE — MOBILE ONLY
   Keep desktop = original overlay look
   Mobile = content top + image bottom card
   ========================================================= */

@media (max-width: 720px) {

    html[data-brand="spa"][data-spa-page="services"] .services-v2-shell--static {
        position: relative;
        overflow: hidden;
        border-radius: var(--radius-lg);
        border: 1px solid rgba(0, 0, 0, .08);
        background: rgba(255, 255, 255, .82);
        box-shadow: var(--shadow-soft);

        /* card layout */
        display: grid;
        grid-template-rows: auto minmax(210px, 1fr);
        min-height: 0;
        /* don't fight your desktop min-height */
    }

    /* kill the desktop overlay gradient on mobile */
    html[data-brand="spa"][data-spa-page="services"] .services-v2-shell--static::after {
        content: none !important;
    }

    /* IMAGE becomes bottom section */
    html[data-brand="spa"][data-spa-page="services"] .services-item-static {
        position: relative !important;
        inset: auto !important;
        grid-row: 2;

        background-image: var(--bg);
        background-size: cover;
        background-repeat: no-repeat;

        /* show more image */
        min-height: clamp(220px, 58vw, 300px);
        background-position: var(--bg-pos-m, 50% 60%);
        z-index: 1;
    }

    html[data-brand="spa"][data-spa-page="services"] .services-item-static::after {
        content: "";
        position: absolute;
        inset: 0;
        pointer-events: none;
        background: linear-gradient(180deg,
                rgba(0, 0, 0, 0) 55%,
                rgba(0, 0, 0, .18) 100%);
    }

    /* CONTENT becomes top panel */
    html[data-brand="spa"][data-spa-page="services"] .services-v2-shell--static .services-content {
        position: relative !important;
        grid-row: 1;
        inset: auto !important;

        left: auto !important;
        right: auto !important;
        bottom: auto !important;

        width: auto !important;
        max-width: none !important;

        padding: 18px 16px;
        text-align: left !important;

        background:
            radial-gradient(900px 320px at 18% 10%, rgba(214, 163, 107, .10), transparent 55%),
            linear-gradient(180deg, rgba(255, 255, 255, .92), rgba(255, 255, 255, .98));

        z-index: 2;
    }

    /* tiny shrink so buttons/text fit nicer */
    html[data-brand="spa"][data-spa-page="services"] .services-title {
        font-size: clamp(1.22rem, 5.4vw, 1.6rem);
        margin: 0 0 8px;
        color: rgba(18, 18, 18, .92);
        text-shadow: none;
    }

    html[data-brand="spa"][data-spa-page="services"] .services-desc {
        font-size: .94rem;
        line-height: 1.55;
        margin: 0 0 12px;
        color: rgba(18, 18, 18, .70);
        text-shadow: none;
    }

    html[data-brand="spa"][data-spa-page="services"] .services-actions {
        justify-content: flex-start !important;
    }

    html[data-brand="spa"][data-spa-page="services"] .services-actions .btn {
        padding: 9px 13px;
        font-size: .90rem;
        border-radius: 999px;
        box-shadow: 0 12px 28px rgba(0, 0, 0, .16);
    }

    /* outline button visibility on light panel */
    html[data-brand="spa"][data-spa-page="services"] .btn.btn-outline {
        border-color: rgba(18, 18, 18, .18);
        background: rgba(255, 255, 255, .72);
        color: rgba(18, 18, 18, .86);
    }

    html[data-brand="spa"][data-spa-page="services"] .btn.btn-outline:hover {
        border-color: rgba(18, 18, 18, .28);
        background: rgba(255, 255, 255, .92);
    }

    html[data-brand="spa"][data-spa-page="services"] .btn.btn-accent {
        color: #141312;
    }
}